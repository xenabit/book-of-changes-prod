var N=Object.defineProperty,R=Object.defineProperties;var T=Object.getOwnPropertyDescriptors;var E=Object.getOwnPropertySymbols;var O=Object.prototype.hasOwnProperty,$=Object.prototype.propertyIsEnumerable;var z=(t,r,i)=>r in t?N(t,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[r]=i,k=(t,r)=>{for(var i in r||(r={}))O.call(r,i)&&z(t,i,r[i]);if(E)for(var i of E(r))$.call(r,i)&&z(t,i,r[i]);return t},I=(t,r)=>R(t,T(r));import{j as e}from"./framerMotion-BlHqZyD2.js";import{r as l}from"./vendor-J-xba_WQ.js";import{S as v,N as M,a as P,f as y,A as h,b as x}from"./swiper-B2NbiavU.js";const A="_SliderScroll_hjat1_2",L="_SliderScroll__container_hjat1_7",V="_SliderScroll__swiper_hjat1_12",C="_SliderScroll__slide_hjat1_18",B="_SliderScroll__scrollbar_hjat1_34",u={SliderScroll:A,SliderScroll__container:L,SliderScroll__swiper:V,SliderScroll__slide:C,SliderScroll__scrollbar:B},F="/assets/images/slider-scroll-desk.avif",W="/assets/images/slider-scroll-desk.webp",D="/assets/images/slider-scroll-mob.jpg",Q="/assets/images/slider-scroll-mob.avif",U="/assets/images/slider-scroll-mob.webp",c={desk:{avif:F,webp:W},mob:{img:D,avif:Q,webp:U}};function q(){const t=l.useRef(null),r=l.useRef(null),[i,d]=l.useState(window.matchMedia("(max-width: 767px)").matches),[m,g]=l.useState(!1),s=l.useRef(null),o={modules:[M,y,h],slidesPerView:"auto",freeMode:{enabled:!0},speed:6e3,keyboard:{enabled:!0},spaceBetween:0,loop:!1,lazy:{enabled:!0},autoplay:{delay:0,disableOnInteraction:!1}},S={modules:[M,P,y,h],slidesPerView:"auto",freeMode:{enabled:!0},speed:6e3,keyboard:{enabled:!0},spaceBetween:12,scrollbar:{el:`.${u.SliderScroll__scrollbar}`,draggable:!0,snapOnRelease:!1,hide:!1},loop:!1,lazy:{enabled:!0,loadPrevNext:!0},autoplay:{delay:0,disableOnInteraction:!1}};l.useEffect(()=>{const a=window.matchMedia("(max-width: 767px)"),p=n=>d(n.matches);return a.addEventListener("change",p),()=>a.removeEventListener("change",p)},[]);const w=l.useCallback(()=>{if(t.current&&t.current.swiper){const a=t.current.swiper;m?a.autoplay.start():a.autoplay.stop()}},[m]);l.useEffect(()=>{const a=new IntersectionObserver(([p])=>{g(p.isIntersecting)},{threshold:.5});return r.current&&a.observe(r.current),()=>{r.current&&a.unobserve(r.current)}},[]);const _=l.useCallback(()=>{if(t.current&&t.current.swiper){const a=t.current.swiper;a.autoplay.stop(),s.current&&clearTimeout(s.current),s.current=setTimeout(()=>{m&&a.autoplay.start()},1e3)}},[m]);return l.useEffect(()=>{w()},[w]),l.useEffect(()=>()=>{s.current&&clearTimeout(s.current)},[]),e.jsx("section",{className:u.SliderScroll,ref:r,children:e.jsxs("div",{className:u.SliderScroll__container,children:[e.jsxs(v,I(k({},i?S:o),{className:u.SliderScroll__swiper,ref:t,onTouchEnd:_,onDragEnd:_,onClick:_,children:[e.jsx(x,{"data-swiper-slide":!0,className:u.SliderScroll__slide,children:e.jsxs("picture",{children:[e.jsx("source",{media:"(min-width: 768px)",type:"image/avif",srcSet:c.desk.avif}),e.jsx("source",{media:"(min-width: 768px)",type:"image/webp",srcSet:c.desk.webp}),e.jsx("source",{media:"(max-width: 767px)",type:"image/avif",srcSet:c.mob.avif}),e.jsx("source",{media:"(max-width: 767px)",type:"image/webp",srcSet:c.mob.webp}),e.jsx("img",{src:c.mob.img,width:"2682",height:"696",alt:"Описание Канона Перемен",loading:"lazy",className:"swiper-lazy"})]})}),i&&e.jsx("div",{className:u.SliderScroll__scrollbar})]})),e.jsx("noscript",{children:e.jsx("div",{children:e.jsxs("picture",{children:[e.jsx("source",{media:"(min-width: 768px)",type:"image/avif",srcSet:c.desk.avif}),e.jsx("source",{media:"(min-width: 768px)",type:"image/webp",srcSet:c.desk.webp}),e.jsx("source",{media:"(max-width: 767px)",type:"image/avif",srcSet:c.mob.avif}),e.jsx("source",{media:"(max-width: 767px)",type:"image/webp",srcSet:c.mob.webp}),e.jsx("img",{src:c.mob.img,width:"2682",height:"696",alt:"Описание Канона Перемен",loading:"lazy"})]})})})]})})}const ke=Object.freeze(Object.defineProperty({__proto__:null,default:q},Symbol.toStringTag,{value:"Module"})),G="_Slider_19td4_2",H="_Slider__container_19td4_11",J="_Slider__swiper_19td4_16",K="_Slider__slide_19td4_22",b={Slider:G,Slider__container:H,Slider__swiper:J,Slider__slide:K},X="/assets/images/slider-1.png",Y="/assets/images/slider-1.avif",Z="/assets/images/slider-1.webp",ee="/assets/images/slider-2.png",se="/assets/images/slider-2.avif",ie="/assets/images/slider-2.webp",te="/assets/images/slider-3.png",re="/assets/images/slider-3.avif",ae="/assets/images/slider-3.webp",le="/assets/images/slider-4.png",oe="/assets/images/slider-4.avif",ne="/assets/images/slider-4.webp",ce="/assets/images/slider-1-mob.png",de="/assets/images/slider-1-mob.avif",me="/assets/images/slider-1-mob.webp",pe="/assets/images/slider-2-mob.png",_e="/assets/images/slider-2-mob.avif",ue="/assets/images/slider-2-mob.webp",be="/assets/images/slider-3-mob.png",we="/assets/images/slider-3-mob.avif",fe="/assets/images/slider-3-mob.webp",ge="/assets/images/slider-4-mob.png",Se="/assets/images/slider-4-mob.avif",he="/assets/images/slider-4-mob.webp";function ve(t,r){let i;return(...d)=>{clearTimeout(i),i=setTimeout(()=>t.apply(this,d),r)}}function ye(){const[t,r]=l.useState(window.innerWidth<768),i=l.useRef(null),d=l.useRef(null),m=l.useMemo(()=>[{img:ce,avif:de,webp:me},{img:pe,avif:_e,webp:ue},{img:be,avif:we,webp:fe},{img:ge,avif:Se,webp:he}],[]),g=l.useMemo(()=>[{img:X,avif:Y,webp:Z},{img:ee,avif:se,webp:ie},{img:te,avif:re,webp:ae},{img:le,avif:oe,webp:ne}],[]);return l.useEffect(()=>{const s=ve(()=>r(window.innerWidth<768),100);return window.addEventListener("resize",s),s(),()=>window.removeEventListener("resize",s)},[]),l.useEffect(()=>{var p;let s;(()=>{var f;const n=(f=i.current)==null?void 0:f.swiper;n&&!n.destroyed?n.autoplay.start():s=setInterval(()=>{var j;(j=i.current)!=null&&j.swiper&&!i.current.swiper.destroyed&&(i.current.swiper.autoplay.start(),clearInterval(s))},100)})();const S=()=>{clearTimeout(d.current),d.current=setTimeout(()=>{var f;const n=(f=i.current)==null?void 0:f.swiper;n&&!n.destroyed&&!n.autoplay.running&&n.autoplay.start()},3e3)},w=()=>S(),_=()=>S(),a=(p=i.current)==null?void 0:p.swiper;return a&&(a.on("touchEnd",w),document.addEventListener("pointerup",_)),()=>{clearInterval(s),clearTimeout(d.current),a&&!a.destroyed&&(a.autoplay.stop(),a.off("touchEnd",w)),document.removeEventListener("pointerup",_)}},[t]),e.jsx("section",{className:b.Slider,"aria-label":"Карусель изображений",role:"region",children:e.jsx("div",{className:b.Slider__container,children:t?e.jsxs(e.Fragment,{children:[e.jsx(v,{onSwiper:s=>{i.current=s},className:b.Slider__swiper,modules:[y,h],slidesPerView:"auto",speed:4e3,spaceBetween:16,loop:!0,autoplay:{delay:800,disableOnInteraction:!1,pauseOnMouseEnter:!1},freeMode:{enabled:!0,momentum:!0,momentumRatio:.5,sticky:!1},"aria-label":"Карусель изображений для мобильных устройств",children:m.map((s,o)=>e.jsx(x,{"data-swiper-lazy":"true",className:b.Slider__slide,"aria-label":`Вариант оформления ${o+1}`,children:e.jsxs("picture",{children:[e.jsx("source",{type:"image/avif",srcSet:s.avif,sizes:"100vw"}),e.jsx("source",{type:"image/webp",srcSet:s.webp,sizes:"100vw"}),e.jsx("img",{src:s.img,width:"1432",height:"592",alt:`Вариант оформления ${o+1}`,loading:"lazy",decoding:"async"})]})},o))}),e.jsx("noscript",{children:m.map((s,o)=>e.jsx("div",{children:e.jsxs("picture",{children:[e.jsx("source",{type:"image/avif",srcSet:s.avif,width:"1432",height:"592"}),e.jsx("source",{type:"image/webp",srcSet:s.webp,width:"1432",height:"592"}),e.jsx("img",{src:s.img,width:"1432",height:"592",alt:`Вариант оформления ${o+1}`,decoding:"async"})]})},o))})]}):e.jsxs(e.Fragment,{children:[e.jsx(v,{onSwiper:s=>{i.current=s},className:b.Slider__swiper,modules:[h],slidesPerView:1,centeredSlides:!0,speed:3500,loop:!0,spaceBetween:16,autoplay:{delay:2e3,disableOnInteraction:!1,pauseOnMouseEnter:!1},"aria-label":"Карусель изображений для десктопов",children:g.map((s,o)=>e.jsx(x,{className:b.Slider__slide,"aria-label":`Вариант оформления ${o+1}`,children:e.jsxs("picture",{children:[e.jsx("source",{type:"image/avif",srcSet:s.avif,sizes:"50vw"}),e.jsx("source",{type:"image/webp",srcSet:s.webp,sizes:"50vw"}),e.jsx("img",{width:"1600",height:"900",src:s.img,alt:`Вариант оформления Канона перемен ${o+1}`,loading:"lazy",decoding:"async"})]})},o))}),e.jsx("noscript",{children:g.map((s,o)=>e.jsx("div",{children:e.jsxs("picture",{children:[e.jsx("source",{type:"image/avif",srcSet:s.avif,width:"1432",height:"592"}),e.jsx("source",{type:"image/webp",srcSet:s.webp,width:"1432",height:"592"}),e.jsx("img",{src:s.img,width:"1432",height:"592",alt:`Вариант оформления ${o+1}`,decoding:"async"})]})},o))})]})})})}const Ie=Object.freeze(Object.defineProperty({__proto__:null,default:ye},Symbol.toStringTag,{value:"Module"}));export{ke as S,Ie as a};
